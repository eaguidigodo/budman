<% if @budgets_recap.present? %>
<%= react_component("HelloWorld", props: { greeting: "Hello from react-rails.", budgets: @budgets_recap }) %>

<h1 class="text-center" >Budgets</h1>

<table class="table table-hover">
  <thead>
    <tr>
    <th scope="col">#</th>
      <th scope="col">Start </th>
      <th scope="col">End </th>
      <th scope="col"> Amount</th>
      <th scope="col">Used</th>
      <th scope="col">Remain</th>
      <th scope="col" colspan="3">Action</th>
    </tr>
  </thead>

  <tbody>
    <% @budgets_recap.each_with_index do |budget,i| %>
      <tr>
        <td><%= i+1 %></td>
        <td><%= budget["start_date"] %></td>
        <td><%= budget["end_date"] %></td>
        <td><%= budget["amount"] %></td>
        <td><%= budget["used"] %></td>
        <td><%= budget["remain"] %></td>
        <td><%= link_to 'Show', budget_path(budget["id"]) %></td>
        <td><%= link_to 'Edit', edit_budget_path(budget["id"]) %></td>
        <td><%= link_to 'Delete', budget_path(budget["id"]), method: :delete, data: { confirm: 'Are you sure?' } %></td>
      </tr>
    <% end %>
  </tbody>
</table>

<br>

<div class="row">
      <div class="col-md-2 offset-md-2">
        <%= button_to 'New budget', new_budget_path, :method => "get", class:"btn btn-primary btn-lg" %>
      </div>
</div>

<% else %>

<div class="card text-center">
  <div class="card-header">
    Budget Manager (BudMan)
  </div>
  <div class="card-body">
    <h5 class="card-title"><%= I18n.t('views.messages.welcome') %></h5>
    <p class="card-text top"><%= I18n.t('views.messages.description') %></p>
    <%= link_to 'Create new budget', new_budget_path, class:"btn btn-primary btn-lg text-white" %>
  </div>

</div>



<% end %>

